<div class="applications-container">
  <h2>Mes candidatures</h2>

  <!-- Affichage message d'erreur -->
  <div *ngIf="errorMessage" class="error-msg">
    {{ errorMessage }}
  </div>

  <!-- Aucune candidature -->
  <div *ngIf="applications.length === 0 && !errorMessage">
    Vous n'avez postulé à aucune offre.
  </div>

  <ul *ngIf="applications.length > 0 && !errorMessage" class="applications-list">
  <li *ngFor="let app of applications" class="application-item">
    
    <ng-container *ngIf="app.job; else missingJob">
      <h3>{{ app.job.title || 'Titre non disponible' }}</h3>
      <p><strong>Description :</strong> {{ app.job.description || 'Non renseignée' }}</p>
      <p><strong>Lieu :</strong> {{ app.job.location || 'Non renseigné' }}</p>
      <p><strong>Type :</strong> {{ app.job.type || 'Non spécifié' }}</p>
      <p><strong>Niveau d'expérience :</strong> {{ app.job.experienceLevel || 'Non précisé' }}</p>
      <p><strong>Compétences :</strong> {{ app.skills || 'Non renseignées' }}</p>
      <p><strong>Expériences :</strong> {{ app.experiences || 'Non renseignées' }}</p>
    </ng-container>

    <ng-template #missingJob>
      <p style="color: red;"><strong>⚠️ Offre d'emploi associée introuvable.</strong></p>
    </ng-template>

  </li>
</ul>

</div>
